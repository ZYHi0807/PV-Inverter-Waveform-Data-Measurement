# PV-Inverter-Waveform-Data-Measurement

## 项目简介

设计了一套光伏逆变器交流侧电压电流波形**高频实时采集装置**，具有 **STM32** 和 **i.MX6ULL** 两个版本，具备**高精度采样、本地上传、数据压缩与远程高效上传**等核心功能。

---

## 技术实现

### 1. 硬件电路设计与测试
- 使用 **嘉立创EDA** 完成 **STM32版本** 及 **IMX6ULL版本** 的原理图与 PCB 设计；
- 打板并完成硬件调试。

### 2. STM32 采集系统开发
- 使用 **Keil + C 语言** 开发 STM32 版本嵌入式程序；
- 配置 **定时器、ADC、DMA等模块** 实现高频实时采样交流侧电流、电压波形；
- 针对高精度采集需求，采用可配置的仪表放大器实现**换挡放大**功能。

### 3. 通信与数据上传
- 利用 **DLT698.45协议** 实现与上层通信设备的数据交互；
- 驱动 **BC20模块** 实现数据上报至云端；
- 使用 **MQTT 协议** 将采集数据上报至 **EMQX 消息服务器**，写入 **MySQL 数据库**实现云端存储与管理。

### 4. i.MX6ULL版本开发
- **电压电流波形异常识别算法**；
- **高效数据压缩模块（压缩率 > 50%）**；
- **远程上传策略**。

---

## 项目成果
- STM32 采集装置，波形误差 < **1%**；
- IMX6ULL 采集装置 ，波形误差 < **0.5%**；
- 数据压缩率 > **50%**。

---

## 技术要点
- **MCU 芯片：** STM32F103C8T6
- **Linux 平台：** IMX6ULL
- **ADC 配置：** 12 位，采样频率 10kHz+
- **采集信号类型：** 交流侧电压、电流波形  
- **通信模块：** Quectel BC20（NB-IoT）  
- **通信协议：** DLT698.45、MQTT  
- **数据库：** MySQL  
